
var casper = require('casper').create();

var origin="http://m.dianping.com/shop/";

var _ID=["61103776","65442684","59398171","18283481","22873604","21725638","23659520","59023437","19645020","23733402","57194883","2906878","67991938","23100214","4514994","2012911","23417181","57785669","66821486","6377696","57764060","2758303","65662739","52350448","22897985","18206018","23595507","22784199","6298100","68025494","4054315","17960230","67559881","18043349","32527130","38071746","58909609","65704804","59250518","67483453","59095536","33572707","44161599","24891809","27511783","57627039","2298628","23079830","23515790","32372192","18394310","21910918","21053228","66260586","57205636","68058864","67514841","19697742","21315959","8075967","11553854","27427272","17194050","67800185","23008955","4115075","23618674","66577592","66558447","2407054","43626270","21212507","21561518","66790977","22969052","58213468","14722446","23961388","4618297","66157221","6138448","6336561","59169694","3386251","66833592","67108962","15115608","4206942","8733005","58386347","67140979","32495978","65490900","67102701","24730245","66052001","2825956","50258170","21734294","5141404","17966138","22209847","17929215","32371966","20890107","14907842","9387291","24805195","23917339","57231021","65491263","4217846","6324880","59249892","32446406","24001951","5735386","65489614","66730032","42571787","68138661","24994915","20939555","21336703","33580130","20881949","8063361","20778786","23539769","27032013","65489391","5124798","67088811","5281513","18247546","22510167","10324998","22277178","57210011","22377375","4081534","67335436","5721107","59392157","22635313","13917310","21981415","66395989","8906423","67856783","23924991","67633173","66184770","9070232","58449580","5610274","43386482","68181568","67731848","17858272","2731477","66990414","35514784","6041090","66756693","66682177","13907938","66268732","67342852","57576323","21625193","65490528","65740123","23074273","32751077","19120125","23666755","20656120","2077294","58013412","4527636","3469051","23494220","21611010","18777702","52347800","32642361","37954290","17928646","67067882","8859361","57708060","67520515","65490753","4128268","59179786","23668228","5592698","22385609","65968935","24914844","22511157","9315885","21715184","67290919","8929335","22785574","4102292","15088816","6088230","68112166","67340089","20780327","38850975","23513933","26997673","8022528","24298914","58313894","58050899","67306677","6586106","2104960","24252070","67598170","32705216","5635875","22915880","67715982","8010491","57232488","9032269","57445237","2185756","37932559","8873518","23092720","13910437","67152570","19467294","19608929","11550613","65713017","59110003","57964521","66503400","32302209","67672504","14872967","67807982","58572530","66876154","47870601","40657817","14822672","37097170","20633463","57868762","5187109","58907590","65351782","66944392","22393291","67343556","8158063","45325243","20645429","66892153","18311920","67319050","23760127","22292818","23139409","18023472","22789166","18685789","8950989","66839557","8047944","66921510","15874108","21685005","23120405","3712693","23461177","58365486","65835207","5381905","59095348","66829773","13658248","17966703","11548788","23599116","57734793","21585673","14693595","22449775","4665923","65855000","20876290","4501453","28598105","3842824","3241852","5325917","18294950","5737389","26912739","15120864","24804385","6440959","4053118","33598987","24659980","66816354","3474868","18580281","66376026","38120959","17816363","17198116","23735094","57153714","57867640","15128359","13793954","4281784","5305033","67963359","3295645","65926402","18103062","67693110","18072892","15090503","2534200","22051269","67958579","57973605","57480657","66852619","14153424","2318887","65306857","23461242","38206692","66559213","22132223","18998090","67340406","21775234","19374883","27294464","65863295","32770299","4129620","21319211","3482299","20714954","23444801","5197512","57188403","26212049","5456070","18476830","33505998","37953377","59014224","23614618","66235587","3338113","13834110","22642708","67082786","19372411","4740661","68976589","67547062","2251237","22386882","65619761","22490359","49893213","13731167","58471143","17924020","6139335","5414876","22915166","14756929","58130612","14906294","66383926","21561018","68074856","3109819","23437824","23613389","9066931","27143976","18284982","66573627","5612122","58356785","17612671","27235230","29672996","14937387","67474707","57273300","2491534","5397812","17856008","8118106","69171905","32753904","65969664","21249775","14748279","8069385","67189928","21949396","69140360","18333107","66847140","22487893","57491544","27205659","22654317","67044925","58597398","21348226","18164682","58874901","58262189","67288347","3991315","67673357","8871227","4739610","11572697","19684506","66643924","16981730","23482147","3897334","58215337","38218313","3428683","24063488","26216810","32467583","21956509","18017981","66462950","3314005","6026456","67369709","18721131","38111857","66987389","66676838","68039877","8926880","67471258","58417834","5467389","18055066","24636170","6388119","67294812","4183561","27270206","7997355","20849359","32653757","67715706","34006710","39019434","21846750","21096452","3634399","3270019","24723067","5992572","10556614","67313720","4522599","22096345","67275181","32624779","65659982","21597751","15862938","20893558","27024135","21087239","17657553","4177976","2329150","24330093","57154021","4524350","66966377","4536466","66071626","21407462","1932763","23322358","23591441","21579438","4284504","69037978","23245053","24349720","3047572","6032337","26947555","1892788","23950513","1795930","27255480","66363097","17158217","6143880","65926439","17852681","21249766","18423539","23880470","59271785","14072723","3445702","58445714","17873316","9037961","23522511","57530945","45821566","24113074","23067494","3140035","19271816","23446942","20647675","5206694","66678868","6261310","68453109","68453109","27301303","19300950","21244238","24643919","57791297","66831888","6699373","19202996","67664277","66686177","24015829","2957935","67211268","9317357","59171433","21729283","57791920","22941167","4509585","22074384","23479623","27424885","22804111","32850909","27304754","58250991","5388564","22576630","32316636","32854519","22600029","22251082","19652109","3239038","65690247","67284018","23973002","5476908","18149383","44144358","69161204","67152946","21341840","21140434","32669925","59429445","19599369","8959881","24809980","19226299","45315238","37929163","14732115","8946816","67060429","66363938","20887382","57885762","23926159","8668858","50104470","1795714","22914552","34997722","19668576","15094186","21560000","22277586","45258903","65736380","13790264","40383949","23064182","14408103","3558427","18521324","15615644","43694880","24296127","48229999","49163794","37803751","67701011","33553849","43884671","56924108","65813675","45307472","17890629","5358404","18176077","14828140","67775243","32559819","5189450","27243090","27198640","3454417","27148162","43605707","22178936","38161109","10349947","37946517","39933631","23442123","48194014","4096826","20940629","32423400","3079897","2842456","9393023","3242743","32502303","14992749","38120150","4226274","16071643","4537755","9975630","5316540","13919703","5693850","5693850","18338714","17464735","40843089","38019228","9317424","8841934","48588571","38112294","56567134","1795903","4729938","8389261","23111029","23061071","21846751","17188698","5283138","4522313","8921958","15947644","57175262","41908766","21816013","59224973","9071268","3857257","27155780","45642452","19278931","66871458","20767809","5391262","13911430","4710466","21335739","13907273","14993823","21376338","23510338","45311179","15076270","22722671","22256324","67677107","6207307","58971415","68227671","24955496","5588801","5588801","67264128","68179105","22448163","26974067","18485896","68009497","8712324","22989769","4962046","2482150","24805180","57310414","66339052","59007031","66216998","22653081","38207296","39022764","5271182","17936621","40121606","66022490","20830527","57779027","67039055","5213079","19601837","16822440","58558986","21290548","68069569","67576908","5398144","66764865","57759917","15130990","32781019","66081611","9320621","14067350","6027880","57579029","59079169","60597230","68920946","27174227","66734257","3464221","14992963","9037306","67175023","9031507","24719165","3690748","22093136","57381893","21407475","65747451","21845510","24829096","18317249","43594320","56911677","19234041","57046813","26230689","48049909","13751895","24661913","68114044","52341169","66478606","8003826","69102623","69102623","24928789","67235596","57216077","69244478","22668022","23230839","67672737","59029246","56534852","16400725","57626661","2890678","27475584","18386172","13883104","20705105","22406721","57287812","58636111","16697531","57051785","13709138","6218306","17246376","28616697","15957922","5239229","3270622","5874515","23755720","5383587","67340639","2867527","19606620","14875803","68159467","14073671","19209967","38210731","14824312","3703432","8051717","6291888","45092085","21621818","13830829","9000910","20951472","27205602","3206779","15864762","24791617","39761774","22837366","22932148","21560630","56583695","19194576","18423376","11564526","67394786","32458562","18631884","67564398","21563484","5194831","38163962","15605565","44262328","5664548","67333881","2956642","8707764","5322324","58171530","32426189","14898725","14072042","32867464","3241993","38146795","57410298","5658518","5385721","32701085","12822194","67847126","23648338","49830826","41421213","62394465","57390441","35978906","43618314","9317460","18337298","24600807","26132226","19144627"];

var links=[];

var count=_ID.length;

for (var i = _ID.length-1; i >= 0; i--) {
	links.push(origin+_ID[i]);
	count--;
	if (count<=0) {
		next();
		console.log("url准备好"+links.length);
	};
};

function next(){
	casper.start().each(links, function(self, link) {
    	self.thenOpen(link, function() {
    			var page=this.getCurrentUrl().replace(origin,'')+'.html';
    			console.log(page);
				this.download(link, page);   

       
   	 	});
	});

	casper.run(function() {
	    this.echo('download Done.').exit();
	});
}

